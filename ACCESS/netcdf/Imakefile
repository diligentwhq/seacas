
#if UseNetcdf4
#define USE_HDF5
#endif

#if defined(USE_HDF5)
V_BASE = 4.hdf5
#else
V_BASE = 4
#endif
V_NUM = netcdf-4.1.3

TRUE_NETCDF = $(V_NUM)

#if BuildSharedExodusLibrary
SHARED = --enable-shared
#else
SHARED = --disable-shared
#endif

XCOMM Process to install netcdf from ACCESS directory
XCOMM 1) generate ACCESS/Makefile
XCOMM 2) make Makefiles - runs configure to generate makefiles
XCOMM 3) make makeincludes - installs netcdf.h in $(INCDIR)
XCOMM 4) make all - builds netcdf distribuiton and installs libraries
XCOMM               and executable 
XCOMM    make all MUST install the libraries because exodusII needs to
XCOMM    link to them in $(LIBDIR) to build its libraries
XCOMM
XCOMM Building the netcdf distribution without installing the libraries
XCOMM 1) generate ACCESS/Makefile
XCOMM 2) make noinstall 
XCOMM 3) Decided to install - make install

runconfigure: $(TRUE_NETCDF)/runconfigure

$(TRUE_NETCDF)/runconfigure: runconfigure.in.$(V_BASE) Imakefile $(CONFIGDIR)/$(MACROFILE)
	$(ETCDIR)/MsubCmd runconfigure.in.$(V_BASE) > $(TRUE_NETCDF)/runconfigure
	chmod +x $(TRUE_NETCDF)/runconfigure

MakeNetcdfMakefiles($(TRUE_NETCDF),$(ACCESSDIR))
MakeNetcdfmakeincludes($(TRUE_NETCDF),$(ACCESSDIR))
MakeNetcdfNoinstall($(TRUE_NETCDF),$(ACCESSDIR))
MakeNetcdfAll($(TRUE_NETCDF),$(ACCESSDIR))

MakeNetcdfTest($(TRUE_NETCDF))
MakeNetcdfInstall($(TRUE_NETCDF),$(ACCESSDIR))
MakeNetcdfClean($(TRUE_NETCDF))

ExtraStuffToClean($(TRUE_NETCDF)/runconfigure)

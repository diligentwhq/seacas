INCLUDE(SubPackageMacros)
INCLUDE(PackageAddExecutable)

SUBPACKAGE(Aprepro)

SET(CMAKE_EXECUTABLE_SUFFIX "")

INCLUDE_DIRECTORIES(
  "${CMAKE_CURRENT_SOURCE_DIR}"
  "${CMAKE_CURRENT_BINARY_DIR}"
)

ADD_DEFINITIONS(-DNO_EXODUSII)

SET(HEADERS "")
SET(SOURCES ap_builtin.c  aprepro.c      ap_stat.c  y.tab.c  ap_util.c  ap_init.c
	    ap_hash.c     ap_liballoc.c  ap_units.c)

PACKAGE_ADD_EXECUTABLE(aprepro NOEXEPREFIX NOEXESUFFIX SOURCES ${SOURCES} DEPLIBS suplib m)
install_executable(aprepro)

SUBPACKAGE_POSTPROCESS()

